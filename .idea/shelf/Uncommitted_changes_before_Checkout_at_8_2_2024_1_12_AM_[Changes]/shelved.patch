Index: index.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n    include \"./config/DatabaseManager.php\";\r\n//    include \"./config/database.php\";\r\n    include \"./app/models/index.php\";\r\n    include \"./app/pattern/index.php\";\r\n    include \"./app/repository/index.php\";\r\n    include \"./app/services/index.php\";\r\n    include \"./route/index.php\";\r\n\r\n?>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/index.php b/index.php
--- a/index.php	(revision 7eb2d7fc5beec63a7d5573394f41a0b95c429428)
+++ b/index.php	(date 1722535838684)
@@ -1,7 +1,6 @@
 <?php
 
     include "./config/DatabaseManager.php";
-//    include "./config/database.php";
     include "./app/models/index.php";
     include "./app/pattern/index.php";
     include "./app/repository/index.php";
Index: app/controllers/SiteController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nclass SiteController{\r\n    private SiteService $siteService;\r\n    private TeamArrivalService $teamArrivalService;\r\n    private HintService $hintService;\r\n    private TeamPuzzleService $teamPuzzleService;\r\n    private LocationService $locationService;\r\n\r\n    public function __construct()\r\n    {\r\n        $this->siteService = new SiteService();\r\n        $this->teamArrivalService = new TeamArrivalService();\r\n        $this->hintService = new HintService();\r\n        $this->teamPuzzleService = new TeamPuzzleService();\r\n        $this->locationService = new LocationService();\r\n    }\r\n\r\n//    [GET] /\r\n    public function index(){\r\n        $this->siteService->index();\r\n        $team_arrival = $this->teamArrivalService->getTeamArrivalsAndLocation('TEA0000001');\r\n        $hint = $this->hintService->getHintsWithIsShow('TEA0000001');\r\n        $team_puzzle = $this->teamPuzzleService->getTeamPuzzles('TEA0000001', 'TOP0000001');\r\n        $location = $this->locationService->getLocations();\r\n        print_r($location);\r\n        $content = 'home';\r\n        include \"./views/layout/index.php\";\r\n    }\r\n\r\n//    [POST] /student\r\n    public function index_POST(){\r\n        $this->siteService->index_POST();\r\n    }\r\n\r\n}\r\n\r\n?>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/controllers/SiteController.php b/app/controllers/SiteController.php
--- a/app/controllers/SiteController.php	(revision 7eb2d7fc5beec63a7d5573394f41a0b95c429428)
+++ b/app/controllers/SiteController.php	(date 1722535947792)
@@ -6,6 +6,8 @@
     private HintService $hintService;
     private TeamPuzzleService $teamPuzzleService;
     private LocationService $locationService;
+    private AccountService $accountService;
+    private PersonService $personService;
 
     public function __construct()
     {
@@ -14,18 +16,34 @@
         $this->hintService = new HintService();
         $this->teamPuzzleService = new TeamPuzzleService();
         $this->locationService = new LocationService();
+        $this->accountService = new AccountService();
+        $this->personService = new PersonService();
     }
 
 //    [GET] /
     public function index(){
-        $this->siteService->index();
-        $team_arrival = $this->teamArrivalService->getTeamArrivalsAndLocation('TEA0000001');
-        $hint = $this->hintService->getHintsWithIsShow('TEA0000001');
-        $team_puzzle = $this->teamPuzzleService->getTeamPuzzles('TEA0000001', 'TOP0000001');
-        $location = $this->locationService->getLocations();
-        print_r($location);
-        $content = 'home';
-        include "./views/layout/index.php";
+//        check is not exist person_id => login
+        $person_id = $_SESSION['person_id'];
+        $role = '';
+        if($role == 'ROL0000001'){
+            header('location: /mentor');
+        } else if($role == 'ROL0000002'){
+            header('location: /guard');
+        }
+//        ...
+
+//        $this->siteService->index();
+//        $team_arrival = $this->teamArrivalService->getTeamArrivalsAndLocationByTeamId('TEA0000001');
+//        $hint = $this->hintService->getHintsWithIsShow('TEA0000001');
+//        $team_puzzle = $this->teamPuzzleService->getTeamPuzzlesByTeamIdAndTopicId('TEA0000001', 'TOP0000001');
+//        $location = $this->locationService->getLocations();
+//        $next_id = $this->siteService->getNextOrPreviousId('TAV0000005');
+//        $checkLogin = $this->accountService->checkLogin('', 'mentor01_ITZone');
+//        $role_name = $this->accountService->getRoleByUsernameAndPassword('', 'mentor01_ITZone');
+//        $team_member = $this->personService->getTeamMemberByTeamIdOrMentorId('MEN0000002', 'mentor');
+//        print_r($team_member);
+//        $content = 'home';
+//        include "./views/layout/index.php";
     }
 
 //    [POST] /student
Index: route/log.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/route/log.php b/route/log.php
new file mode 100644
--- /dev/null	(date 1722535858552)
+++ b/route/log.php	(date 1722535858552)
@@ -0,0 +1,1 @@
+<?php
Index: app/controllers/LogController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/controllers/LogController.php b/app/controllers/LogController.php
new file mode 100644
--- /dev/null	(date 1722535858560)
+++ b/app/controllers/LogController.php	(date 1722535858560)
@@ -0,0 +1,23 @@
+<?php
+
+class LogController{
+    public function __construct()
+    {
+    }
+
+//    [GET] /log/login
+    public function index($username, $pwd){
+        if(isset($_SESSION['person_id'])){
+//            => site
+        }
+    }
+
+//    [POST]
+    public function checkLogin($username, $pwd){
+
+        $_SESSION['person_id'] = $person_id;
+        header('location: /');
+    }
+}
+
+?>
\ No newline at end of file
Index: app/middlewares/LogMiddleWare.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/middlewares/LogMiddleWare.php b/app/middlewares/LogMiddleWare.php
new file mode 100644
--- /dev/null	(date 1722535858571)
+++ b/app/middlewares/LogMiddleWare.php	(date 1722535858571)
@@ -0,0 +1,1 @@
+<?php
